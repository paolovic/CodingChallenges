from typing import List


class Solution:
    def productExceptSelf(self, nums: List[int]) -> List[int]:
        start = 1
        res = []
        for i in nums:
            res.append(start)
            start *= i
        start = 1

        for i in range(len(nums)-1, -1, -1):
            res[i] = start*res[i]
            start*=nums[i]

        return res



s = Solution()
print(s.productExceptSelf([1, 2, 3, 4]))  # [24,12,8,6]
print(s.productExceptSelf([-1, 1, 0, -3, 3]))  # [0,0,9,0,0]
print(
    s.productExceptSelf([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
)  # [3628800,1814400,1209600,907200,725760,604800,518400,453600,403200,362880]
print(
    s.productExceptSelf([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15])
)  # [1307674368000,653837184000,435891456000,326918592000,261534873600,217945728000,187080192000,163459296000,145297152000,130767436800,119439360000,110581168000,103783680000,98718624000,94143280000]
print(
    s.productExceptSelf([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16])
)  # [20922789888000,10461394944000,6974263296000,5230697472000,4184557977600,3487131648000,2997867648000,2615348736000,2324754432000,2092278988800,1904080800000,1743565824000,1600756083200,1471465689600,1351612224000,1242265984000]
